# Исправление навигации в тесте 5

## Проблема
При нажатии кнопки "Назад" в браузере во время прохождения теста 5 происходил переход на тест 4, а не на предыдущую страницу теста.

## Решение
Разделил тест 5 на отдельные страницы с использованием URL параметров.

## Изменения

### 1. Создан универсальный компонент Test5Page
- `Test5Page.tsx` - компонент, который получает номер страницы из URL параметров
- Использует `useParams` для получения `pageNumber` из URL
- Передает `taskId` в `Test5Task`

### 2. Обновлен компонент Test5Task
- Добавлен проп `taskId: number`
- Убрана зависимость от `test5State.currentTask`
- Обновлена навигация:
  - `handleNext()` - переход на `/test5/page/${taskId + 1}`
  - `handleSkip()` - переход на `/test5/page/${taskId + 1}`
  - `handleBack()` - переход на `/test5/page/${taskId - 1}` или `/test4`
- Добавлена кнопка "Назад" в интерфейс

### 3. Обновлены роуты в App.tsx
```tsx
<Route path="/test-intro/test5" element={<Test5Page />} />
<Route path="/test5" element={<Test5Page />} />
<Route path="/test5/page/:pageNumber" element={<Test5Page />} />
```

### 4. Обновлен test5Slice
- Убран `currentTask` из состояния (больше не нужен)
- Убран `setCurrentTask` action
- Каждая страница теперь независима

### 5. Исправлена проблема с миганием чекбоксов
- Добавлено состояние `isInitialized` для контроля инициализации
- Добавлено состояние `showContent` с задержкой 50мс для плавного показа
- Добавлена мемоизация функций и данных с `useCallback` и `useMemo`
- Улучшена синхронизация между локальным состоянием и Redux
- Оптимизирован рендеринг чекбоксов для избежания лишних перерендеров

## Результат
- ✅ Кнопка "Назад" в браузере теперь переходит на предыдущую страницу теста
- ✅ Каждая страница теста имеет свой URL
- ✅ Сохранена вся логика и элементы интерфейса
- ✅ Навигация работает корректно между страницами
- ✅ Переходы между тестами работают как прежде
- ✅ Используется более элегантное решение с URL параметрами
- ✅ Исправлена проблема с миганием чекбоксов при переходах между страницами
- ✅ Добавлена оптимизация производительности с мемоизацией

## URL структура
- `/test5` - Задание 1 (Самочувствие) - по умолчанию
- `/test5/page/1` - Задание 1 (Самочувствие)
- `/test5/page/2` - Задание 2 (Настроение)
- `/test5/page/3` - Задание 3 (Сон и пробуждение)
- ...
- `/test5/page/12` - Задание 12 (Отношение к будущему)

## Тестирование
1. Перейти к тесту 5
2. Пройти несколько заданий
3. Нажать кнопку "Назад" в браузере
4. Убедиться, что происходит переход на предыдущую страницу теста, а не на тест 4
